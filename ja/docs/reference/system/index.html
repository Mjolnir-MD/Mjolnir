<!doctype html><html lang=ja><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="System #  系に含まれる粒子や、系の境界条件、系全体のパラメータなどを設定します。
複数のシミュレーションボックスを持つシミュレーションのためにテーブルの配列として 定義されていますが、通常のシミュレーションでは一つしか定義しません。
例 #  [[systems]] attributes.temperature = 300.0 boundary_shape.lower = [ 0.0, 0.0, 0.0] # lower limit of the boundary boundary_shape.upper = [100.0, 100.0, 100.0] # upper limit of the boundary particles = [  {m= 1.0, pos=[ 1.000, 2.000, -1.000], vel=[ 0.100,-0.200, 0.300], name=&#34;CA&#34;, group=&#34;A&#34;},  # ... ] 入力 #   boundary_shape: テーブル型  境界の具体的な大きさを設定します。 Unlimitedな境界条件の場合、省略可能です。   attributes: テーブル型  系全体に適用されるパラメータを設定します。   particles: テーブルの配列型  系に含まれる粒子のパラメータと、初期条件を設定します。 mまたはmass: 浮動小数点数型 posまたはposition: 浮動小数点数の配列型（要素数は3） velまたはvelocity: 浮動小数点数の配列型（要素数は3、省略可能） name: 文字列型（省略可能） group: 文字列型（省略可能）    &#34;Periodic&#34;境界条件でのboundary_shape #  境界条件がPeriodicCuboidの場合、直方体の各座標の最大と最小の座標を取る頂点を設定します。"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="System"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="http://mjolnir-md.github.io/Mjolnir/ja/docs/reference/system/"><title>System | Mjolnir documentation</title><link rel=manifest href=/Mjolnir/manifest.json><link rel=icon href=/Mjolnir/favicon.png type=image/x-icon><link rel=alternate hreflang=en href=http://mjolnir-md.github.io/Mjolnir/docs/reference/system/ title=System><link rel=stylesheet href=/Mjolnir/book.min.d08be657f4d0d61b509ac06e1059e92fd1c66f15535a6bd4cee27e19935f34ae.css integrity="sha256-0IvmV/TQ1htQmsBuEFnpL9HGbxVTWmvUzuJ+GZNfNK4="><script defer src=/Mjolnir/ja.search.min.3e3069284ff6b656162a6bc7f49492fd21b7466717ea0ab309e354365ad449f8.js integrity="sha256-PjBpKE/2tlYWKmvH9JSS/SG3RmcX6gqzCeNUNlrUSfg="></script>
<link rel=alternate type=application/rss+xml href=http://mjolnir-md.github.io/Mjolnir/ja/docs/reference/system/index.xml title="Mjolnir documentation"></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/Mjolnir/ja><span>Mjolnir documentation</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=検索 aria-label=検索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/Mjolnir/ja/docs/installation/>Installation</a><ul></ul></li><li><a href=/Mjolnir/ja/docs/reference/>Reference</a><ul><li><a href=/Mjolnir/ja/docs/reference/files/>Files</a><ul></ul></li><li><a href=/Mjolnir/ja/docs/reference/units/>Units</a><ul></ul></li><li><a href=/Mjolnir/ja/docs/reference/simulators/ class=collapsed>Simulators</a></li><li><a href=/Mjolnir/ja/docs/reference/integrators/ class=collapsed>Integrators</a></li><li><a href=/Mjolnir/ja/docs/reference/system/ class=active>System</a><ul></ul></li><li><a href=/Mjolnir/ja/docs/reference/forcefields/ class=collapsed>ForceFields</a></li></ul></li><li><a href=/Mjolnir/ja/docs/tutorial/ class=collapsed>Tutorial</a></li><li><a href=/Mjolnir/ja/docs/developersguide/>Developer's Guide</a><ul></ul></li><li><a href=/Mjolnir/ja/docs/glossary/>Glossary</a><ul></ul></li></ul><ul><li><a href=https://github.com/Mjolnir-MD/Mjolnir target=_blank rel=noopener>GitHub</a></li></ul></nav><script>(function(){var e=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/Mjolnir/svg/menu.svg class=book-icon alt=Menu></label>
<strong>System</strong>
<label for=toc-control><img src=/Mjolnir/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#system>System</a><ul><li><a href=#例>例</a></li><li><a href=#入力>入力</a><ul><li><a href=#periodic境界条件でのboundary_shape><code>"Periodic"</code>境界条件での<code>boundary_shape</code></a></li><li><a href=#attribute><code>attribute</code></a></li><li><a href=#particles><code>particles</code></a></li></ul></li><li><a href=#他のシミュレーションの最終構造をインポートする>他のシミュレーションの最終構造をインポートする</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=system>System
<a class=anchor href=#system>#</a></h1><p>系に含まれる粒子や、系の境界条件、系全体のパラメータなどを設定します。</p><p>複数のシミュレーションボックスを持つシミュレーションのためにテーブルの配列として
定義されていますが、通常のシミュレーションでは一つしか定義しません。</p><h2 id=例>例
<a class=anchor href=#%e4%be%8b>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[[systems]]
</span></span><span style=display:flex><span>attributes.temperature = <span style=color:#bd93f9>300.0</span>
</span></span><span style=display:flex><span>boundary_shape.lower = [  <span style=color:#bd93f9>0.0</span>,   <span style=color:#bd93f9>0.0</span>,   <span style=color:#bd93f9>0.0</span>] <span style=color:#6272a4># lower limit of the boundary</span>
</span></span><span style=display:flex><span>boundary_shape.upper = [<span style=color:#bd93f9>100.0</span>, <span style=color:#bd93f9>100.0</span>, <span style=color:#bd93f9>100.0</span>] <span style=color:#6272a4># upper limit of the boundary</span>
</span></span><span style=display:flex><span>particles = [
</span></span><span style=display:flex><span>    {m= <span style=color:#bd93f9>1.0</span>, pos=[ <span style=color:#bd93f9>1.000</span>, <span style=color:#bd93f9>2.000</span>, <span style=color:#bd93f9>-1.000</span>], vel=[ <span style=color:#bd93f9>0.100</span>,<span style=color:#bd93f9>-0.200</span>, <span style=color:#bd93f9>0.300</span>], name=<span style=color:#f1fa8c>&#34;CA&#34;</span>, group=<span style=color:#f1fa8c>&#34;A&#34;</span>},
</span></span><span style=display:flex><span>    <span style=color:#6272a4># ...</span>
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><h2 id=入力>入力
<a class=anchor href=#%e5%85%a5%e5%8a%9b>#</a></h2><ul><li><code>boundary_shape</code>: テーブル型<ul><li>境界の具体的な大きさを設定します。</li><li><code>Unlimited</code>な境界条件の場合、省略可能です。</li></ul></li><li><code>attributes</code>: テーブル型<ul><li>系全体に適用されるパラメータを設定します。</li></ul></li><li><code>particles</code>: テーブルの配列型<ul><li>系に含まれる粒子のパラメータと、初期条件を設定します。</li><li><code>m</code>または<code>mass</code>: 浮動小数点数型</li><li><code>pos</code>または<code>position</code>: 浮動小数点数の配列型（要素数は3）</li><li><code>vel</code>または<code>velocity</code>: 浮動小数点数の配列型（要素数は3、省略可能）</li><li><code>name</code>: 文字列型（省略可能）</li><li><code>group</code>: 文字列型（省略可能）</li></ul></li></ul><h3 id=periodic境界条件でのboundary_shape><code>"Periodic"</code>境界条件での<code>boundary_shape</code>
<a class=anchor href=#periodic%e5%a2%83%e7%95%8c%e6%9d%a1%e4%bb%b6%e3%81%a7%e3%81%aeboundary_shape>#</a></h3><p>境界条件が<code>PeriodicCuboid</code>の場合、直方体の各座標の最大と最小の座標を取る頂点を設定します。</p><ul><li><code>lower</code>: 浮動小数点の配列型<ul><li>各座標で最小の座標を取る頂点の位置を指定します。</li></ul></li><li><code>upper</code>: 浮動小数点の配列型<ul><li>各座標で最大の座標を取る頂点の位置を指定します。</li></ul></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>boundary_shape = {lower = [<span style=color:#bd93f9>0.0</span>, <span style=color:#bd93f9>0.0</span>, <span style=color:#bd93f9>0.0</span>], upper = [<span style=color:#bd93f9>10.0</span>, <span style=color:#bd93f9>10.0</span>, <span style=color:#bd93f9>10.0</span>]}
</span></span></code></pre></div><p>または、</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>boundary_shape.lower = [  <span style=color:#bd93f9>0.0</span>,   <span style=color:#bd93f9>0.0</span>,   <span style=color:#bd93f9>0.0</span>]
</span></span><span style=display:flex><span>boundary_shape.upper = [<span style=color:#bd93f9>100.0</span>, <span style=color:#bd93f9>100.0</span>, <span style=color:#bd93f9>100.0</span>]
</span></span></code></pre></div><h3 id=attribute><code>attribute</code>
<a class=anchor href=#attribute>#</a></h3><p>系全体に適用されるパラメータを指定します。
力場やシミュレータによって必要なパラメータが変化します。
現在、要求される変数は以下のどれかです。</p><ul><li><code>temperature</code>: 浮動小数点数型<ul><li>系の参照温度を指定します。温度一定のシミュレーションを行う際は指定しておく必要があります。</li></ul></li><li><code>ionic_strength</code>: 浮動小数点数型<ul><li>系のイオン強度を指定します。単位は[mol/L]です。</li><li>イオン粒子が陽に含まれない系で静電相互作用を使用する際に必要になることがあります。</li></ul></li></ul><h3 id=particles><code>particles</code>
<a class=anchor href=#particles>#</a></h3><p>系の粒子のパラメータと、初期条件を指定します。
一つの粒子に対して一つのテーブルが割り当てられ、質量、位置、速度、名前、グループ名を指定します。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>particles = [
</span></span><span style=display:flex><span>    {mass= <span style=color:#bd93f9>1.0</span>, position=[ <span style=color:#bd93f9>1.000</span>, <span style=color:#bd93f9>2.000</span>, <span style=color:#bd93f9>-1.000</span>], velocity=[ <span style=color:#bd93f9>0.100</span>,<span style=color:#bd93f9>-0.200</span>, <span style=color:#bd93f9>0.300</span>], name=<span style=color:#f1fa8c>&#34;CA&#34;</span>, group=<span style=color:#f1fa8c>&#34;A&#34;</span>},
</span></span><span style=display:flex><span>    <span style=color:#6272a4># 短縮形</span>
</span></span><span style=display:flex><span>    {m= <span style=color:#bd93f9>1.0</span>, pos=[ <span style=color:#bd93f9>1.000</span>, <span style=color:#bd93f9>2.000</span>, <span style=color:#bd93f9>-1.000</span>], vel=[ <span style=color:#bd93f9>0.100</span>,<span style=color:#bd93f9>-0.200</span>, <span style=color:#bd93f9>0.300</span>], name=<span style=color:#f1fa8c>&#34;CA&#34;</span>, group=<span style=color:#f1fa8c>&#34;A&#34;</span>},
</span></span><span style=display:flex><span>    <span style=color:#6272a4># ...</span>
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><p>初期速度を指定しなかった場合、Maxwell-Boltzmann分布に従って指定した温度での
初期速度が<code>Simulator</code>で設定した<code>seed</code>を使ってランダムに生成されます。</p><p>そのため、省略した場合は<code>system.attributes.temperature</code>の値を設定していることが
要求されます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>particles = [
</span></span><span style=display:flex><span>    {m= <span style=color:#bd93f9>1.0</span>, pos=[ <span style=color:#bd93f9>1.000</span>, <span style=color:#bd93f9>2.000</span>, <span style=color:#bd93f9>-1.000</span>], name=<span style=color:#f1fa8c>&#34;CA&#34;</span>, group=<span style=color:#f1fa8c>&#34;A&#34;</span>},
</span></span><span style=display:flex><span>    <span style=color:#6272a4># ...</span>
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><h2 id=他のシミュレーションの最終構造をインポートする>他のシミュレーションの最終構造をインポートする
<a class=anchor href=#%e4%bb%96%e3%81%ae%e3%82%b7%e3%83%9f%e3%83%a5%e3%83%ac%e3%83%bc%e3%82%b7%e3%83%a7%e3%83%b3%e3%81%ae%e6%9c%80%e7%b5%82%e6%a7%8b%e9%80%a0%e3%82%92%e3%82%a4%e3%83%b3%e3%83%9d%e3%83%bc%e3%83%88%e3%81%99%e3%82%8b>#</a></h2><p>Mjolnirは、ファイル出力時に<a href=https://msgpack.org/>MsgPack</a>で<code>System</code>の全状態をエンコードして出力します。
このファイルを指定することで、前回のシミュレーションの続きからの再開や、途中で計算が止まってしまった時にすぐにやり直すことができます。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[[systems]]
</span></span><span style=display:flex><span>file_name = <span style=color:#f1fa8c>&#34;restart.msg&#34;</span>
</span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div class=book-languages tabindex=0 aria-haspopup=true><ul><li class="flex align-center"><img src=/Mjolnir/svg/translate.svg class=book-icon alt=Languages>
日本語</li></ul><ul class=book-languages-list><li><a href=http://mjolnir-md.github.io/Mjolnir/docs/reference/system/ class="flex align-center"><img src=/Mjolnir/svg/translate.svg class=book-icon alt=Languages>
English</a></li><li class=active><a href=http://mjolnir-md.github.io/Mjolnir/ja/ class="flex align-center"><img src=/Mjolnir/svg/translate.svg class=book-icon alt=Languages>
日本語</a></li></ul></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#system>System</a><ul><li><a href=#例>例</a></li><li><a href=#入力>入力</a><ul><li><a href=#periodic境界条件でのboundary_shape><code>"Periodic"</code>境界条件での<code>boundary_shape</code></a></li><li><a href=#attribute><code>attribute</code></a></li><li><a href=#particles><code>particles</code></a></li></ul></li><li><a href=#他のシミュレーションの最終構造をインポートする>他のシミュレーションの最終構造をインポートする</a></li></ul></li></ul></nav></aside></main></body></html>